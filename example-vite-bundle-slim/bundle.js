(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();const x="\r",E=`
`,W='"',I=",",M='"';function v(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function B(e,t){if(typeof e!="string")throw new TypeError(`${t} must be a string`);switch(!0){case e.length===0:throw new RangeError(`${t} must not be empty`);case e.length>1:throw new RangeError(`${t} must be a single character`);case e===E:case e===x:throw new RangeError(`${t} must not include CR or LF`)}}function O(e){for(const r of["delimiter","quotation"])B(e[r],r);if(e.delimiter===e.quotation)throw new RangeError("delimiter must not be the same as quotation, use different characters");const t=e.maxBufferSize;if(!Number.isFinite(t)&&t!==Number.POSITIVE_INFINITY||Number.isFinite(t)&&(t<1||!Number.isInteger(t)))throw new RangeError("maxBufferSize must be a positive integer (in characters) or Number.POSITIVE_INFINITY")}let c,f=null;function g(){return f!==null&&f.byteLength!==0||(f=new Uint8Array(c.memory.buffer)),f}let b=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});b.decode();let h=0;function _(e,t){return(function(r,o){return h+=o,h>=2146435072&&(b=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),b.decode(),h=o),b.decode(g().subarray(r,r+o))})(e>>>=0,t)}let w=0;const d=new TextEncoder;function S(e,t,r){if(r===void 0){const a=d.encode(e),u=t(a.length,1)>>>0;return g().subarray(u,u+a.length).set(a),w=a.length,u}let o=e.length,n=t(o,1)>>>0;const s=g();let i=0;for(;i<o;i++){const a=e.charCodeAt(i);if(a>127)break;s[n+i]=a}if(i!==o){i!==0&&(e=e.slice(i)),n=r(n,o,o=i+3*e.length,1)>>>0;const a=g().subarray(n+i,n+o);i+=d.encodeInto(e,a).written,n=r(n,o,i,1)>>>0}return w=i,n}function A(e){const t=c.__wbindgen_externrefs.get(e);return c.__externref_table_dealloc(e),t}function R(e,t,r,o){const n=S(e,c.__wbindgen_malloc,c.__wbindgen_realloc),s=w,i=S(o,c.__wbindgen_malloc,c.__wbindgen_realloc),a=w,u=c.parseStringToArraySync(n,s,t,r,i,a);if(u[2])throw A(u[1]);return A(u[0])}"encodeInto"in d||(d.encodeInto=function(e,t){const r=d.encode(e);return t.set(r),{read:e.length,written:r.length}});const N=new Set(["basic","cors","default"]);function C(){const e={wbg:{}};return e.wbg.__wbg_Error_e83987f665cf5504=function(t,r){return Error(_(t,r))},e.wbg.__wbindgen_cast_2241b6af4c4b2941=function(t,r){return _(t,r)},e.wbg.__wbindgen_init_externref_table=function(){const t=c.__wbindgen_externrefs,r=t.grow(4);t.set(0,void 0),t.set(r+0,void 0),t.set(r+1,null),t.set(r+2,!0),t.set(r+3,!1)},e}function T(e,t){return c=e.exports,p.__wbindgen_wasm_module=t,f=null,c.__wbindgen_start(),c}async function p(e){if(c!==void 0)return c;if(e!==void 0&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),e===void 0)throw new Error("WASM module must be explicitly provided. Please report this as a bug if you see this error.");const t=C();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:o}=await(async function(n,s){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,s)}catch(a){if(!n.ok||!N.has(n.type)||n.headers.get("Content-Type")==="application/wasm")throw a;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",a)}const i=await n.arrayBuffer();return await WebAssembly.instantiate(i,s)}{const i=await WebAssembly.instantiate(n,s);return i instanceof WebAssembly.Instance?{instance:i,module:n}:i}})(await e,t);return T(r,o)}let y=!1;function q(){return y}function z(){y=!0}function $(){return y}function F(e={}){const{delimiter:t=I,quotation:r=M,maxBufferSize:o=10485760,source:n}=e;if(typeof t!="string"||t.length!==1)throw new RangeError("Invalid delimiter, must be a single character on WASM.");if(r!==W)throw new RangeError("Invalid quotation, must be double quote on WASM.");return O({delimiter:t,quotation:r,maxBufferSize:o}),{delimiter:t,delimiterCode:t.charCodeAt(0),quotation:r,maxBufferSize:o,source:n??""}}function L(e,t,r,o){return t?`${t.map(n=>n.includes(r)||n.includes(o)||n.includes(`
`)||n.includes("\r")?`${o}${n.replace(new RegExp(v(o),"g"),o+o)}${o}`:n).join(r)}
${e}`:e}function P(e,t,r,o,n){return JSON.parse(n(e,t,r,o))}function j(e,t={}){const{header:r}=t,{delimiter:o,delimiterCode:n,quotation:s,maxBufferSize:i,source:a}=F(t);if(!$())throw new RangeError("WASM module is not initialized. Please call loadWASM() before using parseStringToArraySyncWASM() in the slim entry.");const u=L(e,r,o,s);return P(u,n,i,a,R)}async function U(e){if(!q())try{e?await p({module_or_path:e}):await p(),z()}catch(t){const r=t instanceof Error?t.message:String(t);throw new Error(`Failed to initialize WASM module: ${r}

This error typically occurs when:
  - WASM file cannot be fetched or loaded
  - Using Deno with npm: prefix without proper package.json exports
  - WASM file path is incorrect or inaccessible

For Deno users:
  The package.json should include "deno" export conditions.
  If you encounter this error, please ensure you're using the latest version.

For manual WASM loading:
  import { loadWASM } from 'web-csv-toolbox/slim';
  await loadWASM(wasmFilePathOrBuffer);

See: https://github.com/kamiazya/web-csv-toolbox#readme`)}}async function D(e){$()||await U(e)}const V="/assets/csv-BGQB3w2r.wasm",m=document.getElementById("status"),l=document.getElementById("result");try{console.log("Slim bundle: Loading WASM via streaming (no base64 inlining)..."),l.textContent=`Loading WASM via streaming fetch...
`,await D(V),console.log("WASM loaded successfully!"),m.className="status success",m.textContent="‚úÖ WASM loaded successfully via streaming!",l.textContent+=`‚úÖ WASM loaded successfully!

`;const e=`name,age
Alice,30
Bob,25`,t=j(e);console.log("Slim bundle result:",t),l.textContent+=`CSV Input:
`+e+`

`,l.textContent+=`Parsed Result:
`+JSON.stringify(t,null,2)+`

`,l.textContent+="üì¶ Bundle size is ~110KB smaller (no base64-inlined WASM)"}catch(e){console.error("Error:",e),m.className="status error",m.textContent="‚ùå Error: "+e.message,l.textContent+=`
‚ùå Error: `+e.message}
